#!/bin/sh

# This script is called whenever a new device (mouse, keyboard, monitor) is connected
# or disconnected.
#
# The arguments look like:
# xplugrc TYPE DEVICE STATUS ["Optional Description"]
#          |    |      |
#          |    |       `---- connected or disconnected
#          |     `----------- HDMI3, LVDS1, VGA1, etc.
#           `---------------- keyboard, pointer, display
if [ "$1" = "keyboard" ]; then
    # For some reason, I can't manage to get xplugrc to source my zsh PATH, which includes ~/.bin...
    case "$4" in
        "Kinesis Advantage2"*)
            dunstify "Kinesis"
            ${HOME}/.bin/custom_keyboard_layout kinesis
            ;;
        *)
            dunstify "Normal"
            ${HOME}/.bin/custom_keyboard_layout normal
            ;;
    esac
fi
